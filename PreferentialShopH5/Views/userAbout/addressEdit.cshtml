@model FrontSDK.Domain.DxlqOrderPackageCount
@{
    ViewBag.Title = "新增收货地址";
    Layout = "../Shared/_LayoutFooter.cshtml";
}
@section Head
{
    @WebHelper4H5.RegisterStyles("userAbout/mine.css")
    @WebHelper4H5.RegisterStyles("LArea.min.css")

}
@*<header class="u-header clearfix white-bg ac">
    <div class="u-hd-left fl btnPrev">
        <a href="javascript:void(0)" class="J_backToPrev">
            <span class="u-icon i-hd-back ml4 mt4"></span>
        </a>
    </div>
    <div class="u-hd-tit"><span class="fs36" id="addressTitle">新增收货地址</span></div>
</header>*@
<div class="adrAdd fs14 mt5">
    <p class="comAdrArea parbox">
        <label>收货人</label>
        <input class="flex1 addusername disblock" type="text" value='@ViewBag.curAddress["name"]' id="receiveName" maxlength="16" placeholder="请输入收货人姓名">
    </p>
    <p class="comAdrArea parbox">
        <label>联系电话</label>
        <input class="flex1 addiphone disblock" type="text" value='@ViewBag.curAddress["phone"]' id="phone" maxlength="11" placeholder="请输入收货人联系电话">
    </p>
    <p class="comAdrArea parbox">
        <label>所属地区</label>
        <input class="flex1 addiphone disblock" placeholder="请选择所属地区" type="text" value="@ViewBag.curAddress["provinceName"]@ViewBag.curAddress["cityName"]@ViewBag.curAddress["areaName"]" id="area" data-provinceid="@ViewBag.curAddress["province"]" data-cityid="@ViewBag.curAddress["city"]" data-areaid="@ViewBag.curAddress["area"]" data-provincename="@ViewBag.curAddress["provinceName"]" data-cityname="@ViewBag.curAddress["cityName"]" data-areaname="@ViewBag.curAddress["areaName"]" readonly>
    </p>
    <p class="comAdrArea parbox">
        <label>详细地址</label>
        <input class="flex1 addiphone disblock" type="text" value='@ViewBag.curAddress["address"]' id="areaDetail" maxlength="50" placeholder="请输入详细的收货地址">
    </p>
    <p class="defaultinfo">
        <label>设为默认地址</label>
        <span class="fr">
            @if (@ViewBag.curAddress["isDefault"])
            {
                <a class='person_adrdefault mr2  verMiddle onn' id="toggleDefault" href="javascript:;"></a>
            }
            else
            {
                <a class='person_adrdefault mr2  verMiddle' id="toggleDefault" href="javascript:;"></a>
            }
        </span>
    </p>
</div>
<p class="adraddBtn ac fs16">保存</p>
<div style="height:2.4rem"></div>
<input type="hidden" id="userAddressId" value="@ViewBag.curAddress["userAddressId"]"/>
<input type="hidden" value="@ViewBag.actionType" id="actionType"/>
<div class="popback"></div>
@section Footer
{

}
@section Scripts
{
    @WebHelper4H5.RegisterScripts("Account/jcropfile.js")
    @*@WebHelper4H5.RegisterScripts("Account/addrInfo.js")*@
    @WebHelper4H5.RegisterScripts("areaChoose.js")
    @WebHelper4H5.RegisterScripts("LAreaData.js")
    <script>
        var _addressId = smGlobal.getQueryString("addressId");
        console.log(_addressId)
        if (_addressId) {
            $("#addressTitle").html("编辑收货地址");
        } else {
            $("#addressTitle").html("新增收货地址");
        }
        var area = new LArea();
        area.init({
            'trigger': '#area',//触发选择控件的文本框，同时选择完毕后name属性输出到该位置
            'valueTo': '',//选择完毕后id属性输出到该位置  该方法已经改为回调函数
            'keys': { id: 'id', name: 'name' },//绑定数据源相关字段 id对应valueTo的value属性输出 name对应trigger的value属性输出
            'type': 1,//数据源类型
            'data': LAreaData,//数据源
            'callBackFun': function (data) {
                //addressIds = data;
                $("#area").attr({ "data-provinceid": data[0], "data-cityid": data[1], "data-areaid": data[2] });
                // console.log(data);
            },
            'callBackName': function (data) {
                $("#area").attr({ "data-provincename": data[0], "data-cityname": data[1], "data-areaname": data[2] });
                $("#area").val(data[0] + ((data[1]) ? ('' + data[1]) : ('')) + ((data[2]) ? ('' + data[2]) : ('')));
            },
        });
       // area.value = [@ViewBag.curAddress["province"],@ViewBag.curAddress["city"],@ViewBag.curAddress["area"]]
    </script>
}
